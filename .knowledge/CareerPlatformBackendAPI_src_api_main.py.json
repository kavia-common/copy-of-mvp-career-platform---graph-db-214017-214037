{"is_source_file": true, "format": "Python", "description": "This is a FastAPI-based Python source file defining an API server with endpoints for health checks and role adjacency retrieval, including configuration setup and middleware.", "external_files": ["src.core.config.get_settings", "src.graph.graph_client.GraphClient", "src.graph.graph_dal.GraphDAL"], "external_methods": ["get_settings", "GraphClient.start", "GraphClient.close", "GraphClient.is_healthy"], "published": ["app"], "classes": [{"name": "RoleModel", "description": "Pydantic model representing a role in API responses."}], "methods": [{"name": "FastAPI create_app()", "description": "Creates and configures a FastAPI application with necessary routes, middleware, and startup/shutdown events.", "scope": "", "scopeKind": ""}, {"name": "None _on_shutdown()", "scope": "create_app", "scopeKind": "function", "description": "unavailable"}, {"name": "None _on_startup()", "scope": "create_app", "scopeKind": "function", "description": "unavailable"}, {"name": "List[RoleModel] get_role_adjacency( userId: Optional[str] = Query( default=None, description=\"Optional user identifier to contextualize suggestions\", ), currentRoleId: Optional[str] = Query( default=None, description=\"Current role id to base adjacency suggestions on\", ), targetRoleId: Optional[str] = Query( default=None, description=\"Optional target role id to bias adjacency results\", ), limit: int = Query(default=20, ge=1, le=100, description=\"Max number of suggestions\"), )", "scope": "create_app", "scopeKind": "function", "description": "unavailable"}, {"name": "Dict[str,str] health_check()", "scope": "create_app", "scopeKind": "function", "description": "unavailable"}], "calls": ["get_settings", "GraphClient(driver)", "logger.warning", "logger.info", "client.close", "app.get", "app.on_event", "dal.get_role_adjacency"], "search-terms": ["FastAPI", "RoleModel", "get_role_adjacency", "graph_dal", "graph_client", "health_check", "role-adjacency", "create_app", "CORS middleware", "Graph feature toggle"], "state": 2, "file_id": 2, "knowledge_revision": 18, "git_revision": "26bae1cdb709a9c5dd2a135e38a87ee57b54a0bd", "revision_history": [{"8": "26bae1cdb709a9c5dd2a135e38a87ee57b54a0bd"}, {"18": "26bae1cdb709a9c5dd2a135e38a87ee57b54a0bd"}], "ctags": [{"_type": "tag", "name": "RoleModel", "path": "/home/kavia/workspace/code-generation/copy-of-mvp-career-platform---graph-db-214017-214037/CareerPlatformBackendAPI/src/api/main.py", "pattern": "/^class RoleModel(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_on_shutdown", "path": "/home/kavia/workspace/code-generation/copy-of-mvp-career-platform---graph-db-214017-214037/CareerPlatformBackendAPI/src/api/main.py", "pattern": "/^    def _on_shutdown() -> None:$/", "file": true, "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()", "scope": "create_app", "scopeKind": "function"}, {"_type": "tag", "name": "_on_startup", "path": "/home/kavia/workspace/code-generation/copy-of-mvp-career-platform---graph-db-214017-214037/CareerPlatformBackendAPI/src/api/main.py", "pattern": "/^    def _on_startup() -> None:$/", "file": true, "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()", "scope": "create_app", "scopeKind": "function"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/copy-of-mvp-career-platform---graph-db-214017-214037/CareerPlatformBackendAPI/src/api/main.py", "pattern": "/^app = create_app()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "create_app", "path": "/home/kavia/workspace/code-generation/copy-of-mvp-career-platform---graph-db-214017-214037/CareerPlatformBackendAPI/src/api/main.py", "pattern": "/^def create_app() -> FastAPI:$/", "language": "Python", "typeref": "typename:FastAPI", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/copy-of-mvp-career-platform---graph-db-214017-214037/CareerPlatformBackendAPI/src/api/main.py", "pattern": "/^    description: Optional[str] = Field(None, description=\"Role description\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "RoleModel", "scopeKind": "class"}, {"_type": "tag", "name": "get_role_adjacency", "path": "/home/kavia/workspace/code-generation/copy-of-mvp-career-platform---graph-db-214017-214037/CareerPlatformBackendAPI/src/api/main.py", "pattern": "/^    def get_role_adjacency($/", "file": true, "language": "Python", "typeref": "typename:List[RoleModel]", "kind": "function", "signature": "( userId: Optional[str] = Query( default=None, description=\"Optional user identifier to contextualize suggestions\", ), currentRoleId: Optional[str] = Query( default=None, description=\"Current role id to base adjacency suggestions on\", ), targetRoleId: Optional[str] = Query( default=None, description=\"Optional target role id to bias adjacency results\", ), limit: int = Query(default=20, ge=1, le=100, description=\"Max number of suggestions\"), )", "scope": "create_app", "scopeKind": "function"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/copy-of-mvp-career-platform---graph-db-214017-214037/CareerPlatformBackendAPI/src/api/main.py", "pattern": "/^    def health_check() -> Dict[str, str]:$/", "file": true, "language": "Python", "typeref": "typename:Dict[str,str]", "kind": "function", "signature": "()", "scope": "create_app", "scopeKind": "function"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/copy-of-mvp-career-platform---graph-db-214017-214037/CareerPlatformBackendAPI/src/api/main.py", "pattern": "/^    id: str = Field(..., description=\"Unique role identifier\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "RoleModel", "scopeKind": "class"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/copy-of-mvp-career-platform---graph-db-214017-214037/CareerPlatformBackendAPI/src/api/main.py", "pattern": "/^logger = logging.getLogger(__name__)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "metadata", "path": "/home/kavia/workspace/code-generation/copy-of-mvp-career-platform---graph-db-214017-214037/CareerPlatformBackendAPI/src/api/main.py", "pattern": "/^    metadata: Optional[Dict[str, Any]] = Field(None, description=\"Additional metadata\")$/", "language": "Python", "typeref": "typename:Optional[Dict[str, Any]]", "kind": "variable", "scope": "RoleModel", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/copy-of-mvp-career-platform---graph-db-214017-214037/CareerPlatformBackendAPI/src/api/main.py", "pattern": "/^    name: Optional[str] = Field(None, description=\"Role name\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "RoleModel", "scopeKind": "class"}, {"_type": "tag", "name": "openapi_tags", "path": "/home/kavia/workspace/code-generation/copy-of-mvp-career-platform---graph-db-214017-214037/CareerPlatformBackendAPI/src/api/main.py", "pattern": "/^openapi_tags = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "source", "path": "/home/kavia/workspace/code-generation/copy-of-mvp-career-platform---graph-db-214017-214037/CareerPlatformBackendAPI/src/api/main.py", "pattern": "/^    source: Optional[str] = Field(None, description=\"Source of the data\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "RoleModel", "scopeKind": "class"}, {"_type": "tag", "name": "version", "path": "/home/kavia/workspace/code-generation/copy-of-mvp-career-platform---graph-db-214017-214037/CareerPlatformBackendAPI/src/api/main.py", "pattern": "/^    version: Optional[str] = Field(None, description=\"Version of the data\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "RoleModel", "scopeKind": "class"}], "hash": "eb2b86ca6bf9570435f5e283554fdad8", "format-version": 4, "code-base-name": "CareerPlatformBackendAPI", "filename": "CareerPlatformBackendAPI/src/api/main.py", "fields": [{"name": "app = create_app()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[str] description", "scope": "RoleModel", "scopeKind": "class", "description": "unavailable"}, {"name": "str id", "scope": "RoleModel", "scopeKind": "class", "description": "unavailable"}, {"name": "logger = logging.getLogger(__name__)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[Dict[str, Any]] metadata", "scope": "RoleModel", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] name", "scope": "RoleModel", "scopeKind": "class", "description": "unavailable"}, {"name": "openapi_tags = [", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[str] source", "scope": "RoleModel", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] version", "scope": "RoleModel", "scopeKind": "class", "description": "unavailable"}]}